<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Coupon Clipper - TechMedic</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}
.container{max-width:900px;margin:0 auto}
.header{text-align:center;color:#fff;margin-bottom:40px;padding:40px 20px}
.header h1{font-size:3em;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}
.header p{font-size:1.2em;opacity:.9}
.stores-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:40px}
.store-card{background:#fff;border-radius:16px;padding:30px;box-shadow:0 8px 24px rgba(0,0,0,.15);transition:transform .3s,box-shadow .3s}
.store-card:hover{transform:translateY(-5px);box-shadow:0 12px 32px rgba(0,0,0,.2)}
.store-icon{font-size:3em;margin-bottom:15px}
.store-name{font-size:1.5em;font-weight:700;margin-bottom:10px;color:#333}
.store-desc{color:#666;font-size:.9em;margin-bottom:20px;line-height:1.5}
.bookmarklet-btn{display:inline-block;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:12px 24px;border-radius:8px;text-decoration:none;font-weight:600;cursor:move;transition:transform .2s;border:2px dashed transparent}
.bookmarklet-btn:hover{transform:scale(1.05);border-color:rgba(255,255,255,.5)}
.instructions{background:#fff;border-radius:16px;padding:30px;box-shadow:0 8px 24px rgba(0,0,0,.15)}
.instructions h2{color:#333;margin-bottom:20px}
.instructions ol{padding-left:20px}
.instructions li{margin-bottom:15px;line-height:1.6;color:#555}
.instructions strong{color:#667eea}
.note{background:#f0f4ff;border-left:4px solid #667eea;padding:15px;margin-top:20px;border-radius:4px}
@media (max-width:600px){.header h1{font-size:2em}.stores-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>Auto Coupon Clipper</h1>
    <p>One-click coupon clipping for your favorite stores</p>
  </div>

  <div class="stores-grid">
    <div class="store-card">
      <div class="store-icon">DG</div>
      <div class="store-name">Dollar General</div>
      <div class="store-desc">Automatically clip all available coupons and cash back offers</div>
      <a href="javascript:(function(){const TARGET_URL='https://www.dollargeneral.com/deals/coupons';if(!window.location.href.includes('dollargeneral.com/deals/coupons')){if(confirm('This tool works on the Dollar General Coupons page.\n\nGo there now?')){window.location.href=TARGET_URL;}return;}const delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));async function clipCoupons(){let clipped=0,alreadyClipped=0;const overlay=document.createElement('div');overlay.style.cssText='position:fixed;top:20px;right:20px;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.2);z-index:99999;font-family:system-ui,-apple-system,sans-serif;max-width:320px;min-width:280px';document.body.appendChild(overlay);const updateStatus=function(msg){overlay.innerHTML='<div style=\"font-size:15px;color:#333\"><div style=\"display:flex;align-items:center;gap:8px;margin-bottom:12px\"><strong style=\"font-size:16px\">DG Coupon Clipper</strong></div><div style=\"font-size:13px;line-height:1.8;color:#555\">'+msg+'</div></div>'};updateStatus('Loading all coupons...');await delay(1000);let loadMoreAttempts=0,maxAttempts=50;while(loadMoreAttempts<maxAttempts){const loadMoreBtn=document.querySelector('button.coupon-container__button__load-more-button');if(!loadMoreBtn||loadMoreBtn.style.display==='none'||!loadMoreBtn.offsetParent)break;const beforeCount=document.querySelectorAll('.coupon-tile').length;updateStatus('Loading more coupons...\\nCurrently showing: '+beforeCount+'\\nClicks: '+(loadMoreAttempts+1));try{loadMoreBtn.click();await delay(1500);const afterCount=document.querySelectorAll('.coupon-tile').length;if(afterCount===beforeCount)break;loadMoreAttempts++}catch(e){console.log('Error loading more:',e);break}}updateStatus('Scanning for coupons...');await delay(800);const couponTiles=document.querySelectorAll('.coupon-tile');if(couponTiles.length===0){updateStatus('No coupons found. Make sure you are on the Coupons page. Click to close');overlay.style.cursor='pointer';overlay.onclick=()=>overlay.remove();return}updateStatus('Found '+couponTiles.length+' coupons. Starting to clip...');await delay(800);for(let i=0;i<couponTiles.length;i++){const tile=couponTiles[i];updateStatus('Processing '+(i+1)+'/'+couponTiles.length+'\\nClipped: '+clipped+'\\nAlready clipped: '+alreadyClipped);const clipButton=tile.querySelector('button.clipButton_clipButton__3lDzR');if(clipButton){const isAlreadyClipped=clipButton.classList.contains('clipButton_isClipped__1siy9')||clipButton.querySelector('svg.check');if(isAlreadyClipped){alreadyClipped++}else{try{clipButton.scrollIntoView({behavior:'smooth',block:'center'});await delay(200);clipButton.click();await delay(400);clipped++}catch(e){console.log('Error clicking coupon:',e)}}}await delay(150)}updateStatus('All done! Newly clipped: '+clipped+' Already had: '+alreadyClipped+' Total processed: '+couponTiles.length);overlay.style.cursor='pointer';overlay.onclick=()=>overlay.remove()}clipCoupons().catch(e=>{console.error('Error:',e);alert('An error occurred. Check the console for details.')});})();" class="bookmarklet-btn" onclick="return false">Drag to Bookmarks Bar</a>
    </div>

    <div class="store-card">
      <div class="store-icon">KR</div>
      <div class="store-name">Kroger</div>
      <div class="store-desc">Clip all digital coupons instantly (Coming Soon)</div>
      <a href="#" class="bookmarklet-btn" style="opacity:.5;cursor:not-allowed" onclick="alert('Coming soon!');return false">Coming Soon</a>
    </div>

    <div class="store-card">
      <div class="store-icon">SF</div>
      <div class="store-name">Safeway</div>
      <div class="store-desc">Auto-clip Just for U offers (Coming Soon)</div>
      <a href="#" class="bookmarklet-btn" style="opacity:.5;cursor:not-allowed" onclick="alert('Coming soon!');return false">Coming Soon</a>
    </div>
  </div>

  <div class="instructions">
    <h2>How to Use</h2>
    <ol>
      <li><strong>Drag the button</strong> from your chosen store to your browser's bookmarks bar</li>
      <li><strong>Go to the store's coupon page</strong> (e.g., dollargeneral.com/deals/coupons)</li>
      <li><strong>Click the bookmarklet</strong> you just saved</li>
      <li><strong>Watch it work</strong></li>
    </ol>
    <div class="note">
      <strong>Tip:</strong> If you don't see your bookmarks bar, press <strong>Ctrl+Shift+B</strong> (Windows) to show it.
    </div>
  </div>
</div>
</body>
</html>
